	PAGE
	SBTTL "--- DEBUGGER: C128 ---"

	; --------------
	; C128 DEBUGGER
	; --------------

	; ENTRY: BREAKPOINT ID IN [A]

	; SMALL DEBUGGER DBG1 (CONVERTS) DBG2 (JUST DISPLAYS) [A]
	; DISPLAYS ON LINE 24, col 75/76

DBG1:	STA	HLDA
	TYA
	PHA
	TXA
	PHA

	LDA	HLDA
	PHA
	LSR	A
	LSR	A
	LSR	A
	LSR	A
	JSR	NIB1
	PLA
	JSR	NIB1

	PLA
	TAX
	PLA
	TAY

	RTS

NIB1:	AND	#%00001111
	TAY
	LDA	HCHARS,Y
	JMP	CHROUT

HCHARS:	DB	"0123456789abcdef"
HLDA:	DB	0

	END

