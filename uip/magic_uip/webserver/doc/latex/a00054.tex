\hypertarget{a00054}{
\section{uip/uip.h File Reference}
\label{a00054}\index{uip/uip.h@{uip/uip.h}}
}


\subsection{Detailed Description}
Header file for the u\-IP TCP/IP stack. 

\begin{Desc}
\item[Author:]Adam Dunkels $<$\href{mailto:adam@dunkels.com}{\tt adam@dunkels.com}$>$\end{Desc}
The u\-IP TCP/IP stack header file contains definitions for a number of C macros that are used by u\-IP programs as well as internal u\-IP structures, TCP/IP header structures and function declarations. 

{\tt \#include \char`\"{}uipopt.h\char`\"{}}\par


Include dependency graph for uip.h:

This graph shows which files directly or indirectly include this file:\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \hyperlink{a00028}{uip\_\-conn}
\begin{CompactList}\small\item\em Representation of a u\-IP TCP connection. \item\end{CompactList}\item 
struct \hyperlink{a00032}{uip\_\-udp\_\-conn}
\begin{CompactList}\small\item\em Representation of a u\-IP UDP connection. \item\end{CompactList}\item 
struct \hyperlink{a00031}{uip\_\-stats}
\begin{CompactList}\small\item\em The structure holding the TCP/IP statistics that are gathered if UIP\_\-STATISTICS is set to 1. \item\end{CompactList}\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{a00061_g12b467f314489259dd718228d0827a51}{uip\_\-sethostaddr}(addr)
\begin{CompactList}\small\item\em Set the IP address of this host. \item\end{CompactList}\item 
\#define \hyperlink{a00061_g20bc87e5c063c3f4b01547be6e5a0148}{uip\_\-gethostaddr}(addr)
\begin{CompactList}\small\item\em Get the IP address of this host. \item\end{CompactList}\item 
\#define \hyperlink{a00063_ga4360412ee9350fba725f98a137169fe}{uip\_\-input}()
\begin{CompactList}\small\item\em Process an incoming packet. \item\end{CompactList}\item 
\#define \hyperlink{a00063_g1024f8a5fa65e82bf848b2e6590d9628}{uip\_\-periodic}(conn)
\begin{CompactList}\small\item\em Periodic processing for a connection identified by its number. \item\end{CompactList}\item 
\#define \hyperlink{a00063_gbaf0bb2b6a4424b4eb69e45e457c2583}{uip\_\-periodic\_\-conn}(conn)
\begin{CompactList}\small\item\em Periodic processing for a connection identified by a pointer to its structure. \item\end{CompactList}\item 
\#define \hyperlink{a00063_g2c64c8c36bc84f9336f6a2184ea51883}{uip\_\-udp\_\-periodic}(conn)
\begin{CompactList}\small\item\em Periodic processing for a UDP connection identified by its number. \item\end{CompactList}\item 
\#define \hyperlink{a00063_gf5c2ad5acf3cc23b8262e9ba6a15136b}{uip\_\-udp\_\-periodic\_\-conn}(conn)
\begin{CompactList}\small\item\em Periodic processing for a UDP connection identified by a pointer to its structure. \item\end{CompactList}\item 
\#define \hyperlink{a00064_gb59415b2801e568f52bc1d86ef10e159}{uip\_\-send}(data, len)
\begin{CompactList}\small\item\em Send data on the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g1a1bc437c09ddef238abab41d77c3177}{uip\_\-datalen}()
\begin{CompactList}\small\item\em The length of any incoming data that is currently avaliable (if avaliable) in the uip\_\-appdata buffer. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g8411c95a4d89367ad2d9d6bde1a3d537}{uip\_\-urgdatalen}()
\begin{CompactList}\small\item\em The length of any out-of-band data (urgent data) that has arrived on the connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g61db1dcb7c760e4dd5d60bf4e5576dca}{uip\_\-close}()
\begin{CompactList}\small\item\em Close the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g88d2ccf7cd821f89d9a8df7e3948b56c}{uip\_\-abort}()
\begin{CompactList}\small\item\em Abort the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g0a8bb9d6d0f1f56852ccfccbbad6c5d8}{uip\_\-stop}()
\begin{CompactList}\small\item\em Tell the sending host to stop sending data. \item\end{CompactList}\item 
\hypertarget{a00064_g64a238a5c02640a7a4aef004163aeb47}{
\#define \hyperlink{a00064_g64a238a5c02640a7a4aef004163aeb47}{uip\_\-stopped}(conn)}
\label{a00064_g64a238a5c02640a7a4aef004163aeb47}

\begin{CompactList}\small\item\em Find out if the current connection has been previously stopped with \hyperlink{a00064_g0a8bb9d6d0f1f56852ccfccbbad6c5d8}{uip\_\-stop()}. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g81ac47cee1c18f6aa479044069db7ca3}{uip\_\-restart}()
\begin{CompactList}\small\item\em Restart the current connection, if is has previously been stopped with \hyperlink{a00064_g0a8bb9d6d0f1f56852ccfccbbad6c5d8}{uip\_\-stop()}. \item\end{CompactList}\item 
\#define \hyperlink{a00064_g26a14b8dae3f861830af9e7cf1e03725}{uip\_\-newdata}()
\begin{CompactList}\small\item\em Is new incoming data available? \item\end{CompactList}\item 
\#define \hyperlink{a00064_gde6634974418e3240c212b9b16864368}{uip\_\-acked}()
\begin{CompactList}\small\item\em Has previously sent data been acknowledged? \item\end{CompactList}\item 
\#define \hyperlink{a00064_gdb971fb1525d0c5002f52125b05f3218}{uip\_\-connected}()
\begin{CompactList}\small\item\em Has the connection just been connected? \item\end{CompactList}\item 
\#define \hyperlink{a00064_gef6c4140c632b6a406779342cf3b6eb6}{uip\_\-closed}()
\begin{CompactList}\small\item\em Has the connection been closed by the other end? \item\end{CompactList}\item 
\#define \hyperlink{a00064_gfbd5fc486dfdf6bf6fc9db52b1f418c4}{uip\_\-aborted}()
\begin{CompactList}\small\item\em Has the connection been aborted by the other end? \item\end{CompactList}\item 
\#define \hyperlink{a00064_g7b2ac4b18bd2ac3912fe67b3b17158c3}{uip\_\-timedout}()
\begin{CompactList}\small\item\em Has the connection timed out? \item\end{CompactList}\item 
\#define \hyperlink{a00064_ga8933ad15a2e2947dae4a5cff50e6007}{uip\_\-rexmit}()
\begin{CompactList}\small\item\em Do we need to retransmit previously data? \item\end{CompactList}\item 
\#define \hyperlink{a00064_g58bb90796c1cdad3aac2ecf44d87b20e}{uip\_\-poll}()
\begin{CompactList}\small\item\em Is the connection being polled by u\-IP? \item\end{CompactList}\item 
\hypertarget{a00064_ga87feebc7cffd4d8300e776cf64e4fec}{
\#define \hyperlink{a00064_ga87feebc7cffd4d8300e776cf64e4fec}{uip\_\-initialmss}()}
\label{a00064_ga87feebc7cffd4d8300e776cf64e4fec}

\begin{CompactList}\small\item\em Get the initial maxium segment size (MSS) of the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_gb5fecbc62edd128012cea0f47b57ab9f}{uip\_\-mss}()
\begin{CompactList}\small\item\em Get the current maxium segment size that can be sent on the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_gf2dbaceb10c67783a115075b5b6d66df}{uip\_\-udp\_\-remove}(conn)
\begin{CompactList}\small\item\em Removed a UDP connection. \item\end{CompactList}\item 
\#define \hyperlink{a00064_ge5ab69d40013e6cf86ef1763c95d920e}{uip\_\-udp\_\-send}(len)
\begin{CompactList}\small\item\em Send a UDP datagram of length len on the current connection. \item\end{CompactList}\item 
\#define \hyperlink{a00065_g87f0b54ade0d159fba495089128a4932}{uip\_\-ipaddr}(addr, addr0, addr1, addr2, addr3)
\begin{CompactList}\small\item\em Pack an IP address into a 4-byte array which is used by u\-IP to represent IP addresses. \item\end{CompactList}\item 
\#define \hyperlink{a00065_g69a7a4951ff21b302267532c21ee78fc}{HTONS}(n)
\begin{CompactList}\small\item\em Convert 16-bit quantity from host byte order to network byte order. \item\end{CompactList}\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{a00062_gc48ed5f0d27721ef62a3ed02a5ad8d2e}{uip\_\-init} (void)
\begin{CompactList}\small\item\em u\-IP initialization function. \item\end{CompactList}\item 
void \hyperlink{a00064_gdd1ab3704ecd4900eec61a6897d32dc8}{uip\_\-listen} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} port)
\begin{CompactList}\small\item\em Start listening to the specified port. \item\end{CompactList}\item 
void \hyperlink{a00064_gaa585784b0914cac1d37f07f85457008}{uip\_\-unlisten} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} port)
\begin{CompactList}\small\item\em Stop listening to the specified port. \item\end{CompactList}\item 
\hyperlink{a00028}{uip\_\-conn} $\ast$ \hyperlink{a00064_gce715881b240922bba96613c2a88fd67}{uip\_\-connect} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ripaddr, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} port)
\begin{CompactList}\small\item\em Connect to a remote host using TCP. \item\end{CompactList}\item 
\hyperlink{a00032}{uip\_\-udp\_\-conn} $\ast$ \hyperlink{a00064_g527ff0e535266167077b06d3a4742822}{uip\_\-udp\_\-new} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ripaddr, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} rport)
\begin{CompactList}\small\item\em Set up a new UDP connection. \item\end{CompactList}\item 
\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} \hyperlink{a00065_ga22b04cac8cf283ca12f028578bebc06}{htons} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} val)
\begin{CompactList}\small\item\em Convert 16-bit quantity from host byte order to network byte order. \item\end{CompactList}\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
\hyperlink{a00070_ge081489b4906f65a3cb18e9fbe9f8d23}{u8\_\-t} \hyperlink{a00063_gb81e78f890dbbee50c533a9734b74fd9}{uip\_\-buf} \mbox{[}UIP\_\-BUFSIZE+2\mbox{]}
\begin{CompactList}\small\item\em The u\-IP packet buffer. \item\end{CompactList}\item 
volatile \hyperlink{a00070_ge081489b4906f65a3cb18e9fbe9f8d23}{u8\_\-t} $\ast$ \hyperlink{a00059_ge71ae1aa130be22a5f028e76d8d1e31e}{uip\_\-appdata}
\begin{CompactList}\small\item\em Pointer to the application data in the packet buffer. \item\end{CompactList}\item 
\hypertarget{a00066_g838108341703d67d15fc09e0808c2561}{
volatile \hyperlink{a00070_ge081489b4906f65a3cb18e9fbe9f8d23}{u8\_\-t} \hyperlink{a00066_g838108341703d67d15fc09e0808c2561}{uip\_\-acc32} \mbox{[}4\mbox{]}}
\label{a00066_g838108341703d67d15fc09e0808c2561}

\begin{CompactList}\small\item\em 4-byte array used for the 32-bit sequence number calculations. \item\end{CompactList}\item 
\hyperlink{a00031}{uip\_\-stats} \hyperlink{a00059_g9ee50a40597e67fce96541ab56c3b712}{uip\_\-stat}
\begin{CompactList}\small\item\em The u\-IP TCP/IP statistics. \item\end{CompactList}\end{CompactItemize}
