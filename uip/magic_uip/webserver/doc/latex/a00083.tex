\hypertarget{a00083}{
\section{u\-IP hostname resolver functions}
\label{a00083}\index{uIP hostname resolver functions@{uIP hostname resolver functions}}
}


Collaboration diagram for u\-IP hostname resolver functions:

\subsection{Detailed Description}
The u\-IP DNS resolver functions are used to lookup a hostname and map it to a numerical IP address. 

It maintains a list of resolved hostnames that can be queried with the \hyperlink{a00083_g66d19181ad5fe8b8f7c84d1f1d46a2ec}{resolv\_\-lookup()} function. New hostnames can be resolved using the \hyperlink{a00083_ge4dcbbe6c641d2e3b8537b479df5fc99}{resolv\_\-query()} function.

When a hostname has been resolved (or found to be non-existant), the resolver code calls a callback function called \hyperlink{a00083_g6d9751d534453425c7a5a215d1d4414c}{resolv\_\-found()} that must be implemented by the module that uses the resolver. 

\subsection*{Files}
\begin{CompactItemize}
\item 
file \hyperlink{a00040}{resolv.h}
\begin{CompactList}\small\item\em DNS resolver code header file. \item\end{CompactList}

\item 
file \hyperlink{a00039}{resolv.c}
\begin{CompactList}\small\item\em DNS host name to IP address resolver. \item\end{CompactList}

\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{a00083_g6d9751d534453425c7a5a215d1d4414c}{resolv\_\-found} (char $\ast$name, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ipaddr)
\begin{CompactList}\small\item\em Callback function which is called when a hostname is found. \item\end{CompactList}\item 
void \hyperlink{a00083_gdf916e0c752f5cda70d0bddb2be422ba}{resolv\_\-conf} (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$dnsserver)
\begin{CompactList}\small\item\em Configure which DNS server to use for queries. \item\end{CompactList}\item 
\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ \hyperlink{a00083_g3191066cf8f76bd00b6843b77c37068f}{resolv\_\-getserver} (void)
\begin{CompactList}\small\item\em Obtain the currently configured DNS server. \item\end{CompactList}\item 
\hypertarget{a00083_gb50f78bbf36d912d69f6c1685d0b40e3}{
void \hyperlink{a00083_gb50f78bbf36d912d69f6c1685d0b40e3}{resolv\_\-init} (void)}
\label{a00083_gb50f78bbf36d912d69f6c1685d0b40e3}

\begin{CompactList}\small\item\em Initalize the resolver. \item\end{CompactList}\item 
\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ \hyperlink{a00083_g66d19181ad5fe8b8f7c84d1f1d46a2ec}{resolv\_\-lookup} (char $\ast$name)
\begin{CompactList}\small\item\em Look up a hostname in the array of known hostnames. \item\end{CompactList}\item 
void \hyperlink{a00083_ge4dcbbe6c641d2e3b8537b479df5fc99}{resolv\_\-query} (char $\ast$name)
\begin{CompactList}\small\item\em Queues a name so that a question for the name will be sent out. \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{a00083_gdf916e0c752f5cda70d0bddb2be422ba}{
\index{uipdns@{uipdns}!resolv_conf@{resolv\_\-conf}}
\index{resolv_conf@{resolv\_\-conf}!uipdns@{uipdns}}
\subsubsection[resolv\_\-conf]{\setlength{\rightskip}{0pt plus 5cm}void resolv\_\-conf (\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ {\em dnsserver})}}
\label{a00083_gdf916e0c752f5cda70d0bddb2be422ba}


Configure which DNS server to use for queries. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em dnsserver}]A pointer to a 4-byte representation of the IP address of the DNS server to be configured. \end{description}
\end{Desc}
\hypertarget{a00083_g6d9751d534453425c7a5a215d1d4414c}{
\index{uipdns@{uipdns}!resolv_found@{resolv\_\-found}}
\index{resolv_found@{resolv\_\-found}!uipdns@{uipdns}}
\subsubsection[resolv\_\-found]{\setlength{\rightskip}{0pt plus 5cm}void resolv\_\-found (char $\ast$ {\em name}, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ {\em ipaddr})}}
\label{a00083_g6d9751d534453425c7a5a215d1d4414c}


Callback function which is called when a hostname is found. 

This function must be implemented by the module that uses the DNS resolver. It is called when a hostname is found, or when a hostname was not found.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]A pointer to the name that was looked up.\item[{\em ipaddr}]A pointer to a 4-byte array containing the IP address of the hostname, or NULL if the hostname could not be found. \end{description}
\end{Desc}
\hypertarget{a00083_g3191066cf8f76bd00b6843b77c37068f}{
\index{uipdns@{uipdns}!resolv_getserver@{resolv\_\-getserver}}
\index{resolv_getserver@{resolv\_\-getserver}!uipdns@{uipdns}}
\subsubsection[resolv\_\-getserver]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ resolv\_\-getserver (void)}}
\label{a00083_g3191066cf8f76bd00b6843b77c37068f}


Obtain the currently configured DNS server. 

\begin{Desc}
\item[Returns:]A pointer to a 4-byte representation of the IP address of the currently configured DNS server or NULL if no DNS server has been configured. \end{Desc}
\hypertarget{a00083_g66d19181ad5fe8b8f7c84d1f1d46a2ec}{
\index{uipdns@{uipdns}!resolv_lookup@{resolv\_\-lookup}}
\index{resolv_lookup@{resolv\_\-lookup}!uipdns@{uipdns}}
\subsubsection[resolv\_\-lookup]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ resolv\_\-lookup (char $\ast$ {\em name})}}
\label{a00083_g66d19181ad5fe8b8f7c84d1f1d46a2ec}


Look up a hostname in the array of known hostnames. 

\begin{Desc}
\item[Note:]This function only looks in the internal array of known hostnames, it does not send out a query for the hostname if none was found. The function \hyperlink{a00083_ge4dcbbe6c641d2e3b8537b479df5fc99}{resolv\_\-query()} can be used to send a query for a hostname.\end{Desc}
\begin{Desc}
\item[Returns:]A pointer to a 4-byte representation of the hostname's IP address, or NULL if the hostname was not found in the array of hostnames. \end{Desc}
\hypertarget{a00083_ge4dcbbe6c641d2e3b8537b479df5fc99}{
\index{uipdns@{uipdns}!resolv_query@{resolv\_\-query}}
\index{resolv_query@{resolv\_\-query}!uipdns@{uipdns}}
\subsubsection[resolv\_\-query]{\setlength{\rightskip}{0pt plus 5cm}void resolv\_\-query (char $\ast$ {\em name})}}
\label{a00083_ge4dcbbe6c641d2e3b8537b479df5fc99}


Queues a name so that a question for the name will be sent out. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]The hostname that is to be queried. \end{description}
\end{Desc}
