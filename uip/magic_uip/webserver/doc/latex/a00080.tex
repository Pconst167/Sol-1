\hypertarget{a00080}{
\section{SMTP E-mail sender}
\label{a00080}\index{SMTP E-mail sender@{SMTP E-mail sender}}
}


Collaboration diagram for SMTP E-mail sender:

\subsection{Detailed Description}
The Simple Mail Transfer Protocol (SMTP) as defined by RFC821 is the standard way of sending and transfering e-mail on the Internet. 

This simple example implementation is intended as an example of how to implement protocols in u\-IP, and is able to send out e-mail but has not been extensively tested. 

\subsection*{Files}
\begin{CompactItemize}
\item 
file \hyperlink{a00042}{smtp.h}
\begin{CompactList}\small\item\em SMTP header file. \item\end{CompactList}

\item 
file \hyperlink{a00041}{smtp.c}
\begin{CompactList}\small\item\em SMTP example implementation. \item\end{CompactList}

\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\hypertarget{a00080_g029256bc17a12e1e86781887e11c0c7d}{
\#define \hyperlink{a00080_g029256bc17a12e1e86781887e11c0c7d}{SMTP\_\-ERR\_\-OK}~0}
\label{a00080_g029256bc17a12e1e86781887e11c0c7d}

\begin{CompactList}\small\item\em Error number that signifies a non-error condition. \item\end{CompactList}\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{a00080_gb1fc692a2700b7a51517724364683f67}{smtp\_\-done} (unsigned char error)
\begin{CompactList}\small\item\em Callback function that is called when an e-mail transmission is done. \item\end{CompactList}\item 
void \hyperlink{a00080_gb190336472b91d4bbfa1eadaa54151e2}{smtp\_\-configure} (char $\ast$lhostname, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$server)
\begin{CompactList}\small\item\em Specificy an SMTP server and hostname. \item\end{CompactList}\item 
unsigned char \hyperlink{a00080_g86f84869cd17114c9837b5ca4618ee21}{smtp\_\-send} (char $\ast$to, char $\ast$from, char $\ast$subject, char $\ast$msg, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} msglen)
\begin{CompactList}\small\item\em Send an e-mail. \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{a00080_gb190336472b91d4bbfa1eadaa54151e2}{
\index{smtp@{smtp}!smtp_configure@{smtp\_\-configure}}
\index{smtp_configure@{smtp\_\-configure}!smtp@{smtp}}
\subsubsection[smtp\_\-configure]{\setlength{\rightskip}{0pt plus 5cm}void smtp\_\-configure (char $\ast$ {\em lhostname}, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} $\ast$ {\em server})}}
\label{a00080_gb190336472b91d4bbfa1eadaa54151e2}


Specificy an SMTP server and hostname. 

This function is used to configure the SMTP module with an SMTP server and the hostname of the host.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lhostname}]The hostname of the u\-IP host.\item[{\em server}]A pointer to a 4-byte array representing the IP address of the SMTP server to be configured. \end{description}
\end{Desc}
\hypertarget{a00080_gb1fc692a2700b7a51517724364683f67}{
\index{smtp@{smtp}!smtp_done@{smtp\_\-done}}
\index{smtp_done@{smtp\_\-done}!smtp@{smtp}}
\subsubsection[smtp\_\-done]{\setlength{\rightskip}{0pt plus 5cm}void smtp\_\-done (unsigned char {\em error})}}
\label{a00080_gb1fc692a2700b7a51517724364683f67}


Callback function that is called when an e-mail transmission is done. 

This function must be implemented by the module that uses the SMTP module.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em error}]The number of the error if an error occured, or SMTP\_\-ERR\_\-OK. \end{description}
\end{Desc}
\hypertarget{a00080_g86f84869cd17114c9837b5ca4618ee21}{
\index{smtp@{smtp}!smtp_send@{smtp\_\-send}}
\index{smtp_send@{smtp\_\-send}!smtp@{smtp}}
\subsubsection[smtp\_\-send]{\setlength{\rightskip}{0pt plus 5cm}unsigned char smtp\_\-send (char $\ast$ {\em to}, char $\ast$ {\em from}, char $\ast$ {\em subject}, char $\ast$ {\em msg}, \hyperlink{a00070_gfc6499c1f28697aa3bfc2804d496fd11}{u16\_\-t} {\em msglen})}}
\label{a00080_g86f84869cd17114c9837b5ca4618ee21}


Send an e-mail. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em to}]The e-mail address of the receiver of the e-mail. \item[{\em from}]The e-mail address of the sender of the e-mail. \item[{\em subject}]The subject of the e-mail. \item[{\em msg}]The actual e-mail message. \item[{\em msglen}]The length of the e-mail message. \end{description}
\end{Desc}
